{"title":"Java集合相关","date":"2020-06-11T11:50:00.000Z","date_formatted":{"ll":"2020年6月11日","L":"2020/06/11","MM-DD":"06-11"},"link":"2020/06/11/Java集合相关","tags":["集合"],"categories":["学习"],"updated":"2024-10-11T08:00:23.879Z","content":"<p>Java集合框架主要包括两种类型的容器，一种是集合（Collection），存储元素集合，另一种是图（Map），存储键/值对映射。<span id=\"more\"></span></p>\n<h3 id=\"java集合介绍\">Java集合介绍<a title=\"#java集合介绍\" href=\"#java集合介绍\"></a></h3>\n<p>Java的所有集合类都位于 java.util 包，其中提供了一个表示和操作对象集合的统一构架，包含大量集合接口，以及这些接口的实现类和操作它们的算法。</p>\n<p>Java集合可以分为：</p>\n<ol>\n<li>Set：代表无序、不可重复</li>\n<li>List：代表有序、重复的集合</li>\n<li>Queue：代表一种队列集合实现</li>\n<li>Map：代表具有映射关系的集合</li>\n</ol>\n<h3 id=\"java集合体系间的继承关系\">java集合体系间的继承关系<a title=\"#java集合体系间的继承关系\" href=\"#java集合体系间的继承关系\"></a></h3>\n<p>Java集合主要有两个接口派生而出：Collection和Map，这个两个接口是Java集合框架的根接口。</p>\n<h4 id=\"hashset、treeset、arraylist、linkedlist是经常用到的实现类\">HashSet、TreeSet、ArrayList、LinkedList是经常用到的实现类<a title=\"#hashset、treeset、arraylist、linkedlist是经常用到的实现类\" href=\"#hashset、treeset、arraylist、linkedlist是经常用到的实现类\"></a></h4>\n<p><img src=\"http://zeven.cpolar.cn/2024/10/202410110952021.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<h4 id=\"hashmap、treemap是经常用到的实现类\">HashMap、TreeMap是经常用到的实现类<a title=\"#hashmap、treemap是经常用到的实现类\" href=\"#hashmap、treemap是经常用到的实现类\"></a></h4>\n<p><img src=\"http://zeven.cpolar.cn/2024/10/202410110952429.png\" alt=\"\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"问题\">问题<a title=\"#问题\" href=\"#问题\"></a></h3>\n<ol>\n<li>Arrays.asList生成的list增删数据会报异常</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br><span class=\"line\">    at java.util.AbstractList.add(AbstractList.java:148)</span><br><span class=\"line\">    at com.design.test.Main.main(Main.java:15)</span><br></pre></td></tr></table></figure>\n<p>出现这个异常的原因是通过Arrays.asList转换数组生成的ArrayList和java.util.ArrayList不一样，它是定义在Arrays里面，和java.util.ArrayList都是继承并实现了AbstractList抽象类。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span><br><span class=\"line\">    implements RandomAccess, java.io.Serializable</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    private static final long serialVersionUID = -2764017481108945198L;</span><br><span class=\"line\">    private final E[] a;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>不同的是Arrays.asList生成的ArrayList并没有重写AbstractList的add,remove等方法，所以调用add,remove等方法时会报错<br>\n解决方法是重新构造一个java.util.ArrayList或者是LinkedList</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void main(String[] args) &#123;</span><br><span class=\"line\">        String[] array = new String[]&#123;&quot;1&quot;, &quot;2&quot;&#125;;</span><br><span class=\"line\">        List&lt;String&gt; list =  new ArrayList&lt;&gt;(Arrays.asList(array));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>fail-fast<br>\n所谓快速失败就是在并发集合中，其进行迭代操作时，若有其他线程对其进行结构性的修改，这时迭代器会立马感知到，并且立即抛出ConcurrentModificationException异常，而不是等到迭代完成之后才告诉你</li>\n</ol>\n<h2 id=\"参考\">参考<a title=\"#参考\" href=\"#参考\"></a></h2>\n<p><a href=\"https://www.yizhanyang.com/Java/109.html\" target=\"_blank\">Java集合</a></p>\n","prev":{"title":"文件名乱码问题解决","link":"2020/07/20/文件名乱码问题解决"},"next":{"title":"接口慢查询分析","link":"2020/05/15/接口慢查询分析"},"plink":"https://zinki.github.io/2020/06/11/Java集合相关/","toc":[{"id":"java集合介绍","title":"Java集合介绍","index":"1"},{"id":"java集合体系间的继承关系","title":"java集合体系间的继承关系","index":"2"},{"id":"问题","title":"问题","index":"3"}]}