{"title":"SpringBoot获取配置信息","date":"2017-06-15T02:37:00.000Z","date_formatted":{"ll":"2017年6月15日","L":"2017/06/15","MM-DD":"06-15"},"link":"2017/06/15/SpringBoot获取配置信息","tags":["SringBoot"],"categories":["工作"],"updated":"2024-10-10T08:03:05.459Z","content":"<p>SpiringBoot提供了@Value注解形式获取配置信息，不过需要自动装在的Bean才能实现自动注入。比如一些封装的静态工具类无法使用这种方式，可以使用Environment的方式获取。</p>\n<span id=\"more\"></span>\n<h2 id=\"将配置信息设置到environment\">将配置信息设置到Environment<a title=\"#将配置信息设置到environment\" href=\"#将配置信息设置到environment\"></a></h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import org.springframework.context.annotation.Configuration;</span><br><span class=\"line\">import org.springframework.core.env.Environment;</span><br><span class=\"line\"></span><br><span class=\"line\">import javax.annotation.PostConstruct;</span><br><span class=\"line\">import javax.annotation.Resource;</span><br><span class=\"line\"></span><br><span class=\"line\">@Configuration</span><br><span class=\"line\">public class PropertiesConfig &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Resource</span><br><span class=\"line\">    private Environment env;</span><br><span class=\"line\"></span><br><span class=\"line\">    @PostConstruct</span><br><span class=\"line\">    public void setProperties() &#123;</span><br><span class=\"line\">        PropertiesUtil.setEnvironment(env);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"通过environment获取properties配置\">通过Environment获取properties配置<a title=\"#通过environment获取properties配置\" href=\"#通过environment获取properties配置\"></a></h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import org.springframework.core.env.Environment;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * @Description</span><br><span class=\"line\"> * @Date 2019-08-21</span><br><span class=\"line\"> */</span><br><span class=\"line\">public class PropertiesUtil &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    private static Environment env = null;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static void setEnvironment(Environment env) &#123;</span><br><span class=\"line\">        PropertiesUtil.env = env;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public static String getProperty(String key) &#123;</span><br><span class=\"line\">        return PropertiesUtil.env.getProperty(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用\">使用<a title=\"#使用\" href=\"#使用\"></a></h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PropertiesUtil.getProperty(&quot;XXX&quot;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考\">参考<a title=\"#参考\" href=\"#参考\"></a></h2>\n<p><a href=\"https://blog.csdn.net/genaro26/article/details/82900308\" target=\"_blank\">创建普通properties工具类读取spring boot的application.properties文件中的属性</a></p>\n","prev":{"title":"PlantUML简明教程","link":"2017/07/03/PlantUML简明教程"},"next":{"title":"利用wordcloud生成云图","link":"2017/06/05/Wordcloud生成云图"},"plink":"https://zinki.github.io/2017/06/15/SpringBoot获取配置信息/","toc":[{"id":"将配置信息设置到environment","title":"将配置信息设置到Environment","index":"1"},{"id":"通过environment获取properties配置","title":"通过Environment获取properties配置","index":"2"},{"id":"使用","title":"使用","index":"3"},{"id":"参考","title":"参考","index":"4"}]}